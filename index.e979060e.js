const e={formEl:document.getElementById("search-form"),buttonEl:document.querySelector(".btn"),divEl:document.querySelector(".gallery"),imgEl:document.querySelector(".img-card")},n={showCounter:!1},t=new searchImages,i=new loadMoreBtn(".load-more",!0);function o(){const{height:n}=e.divEl.firstElementChild.getBoundingClientRect();window.scrollBy({top:2*n,behavior:"smooth"})}function r(){return t.page>1&&t.page>Math.ceil(t.totalHits/40)?(i.hideBtn(),o(),Notiflix.Notify.warning("We're sorry, but you've reached the end of search results.")):(i.disable(),async function(){try{const r=await t.getImages();if(0===r.length)throw new Error(a);const s=r.reduce(((e,n)=>e+function({webformatURL:e,tags:n,likes:t,views:i,comments:o,downloads:r,largeImageURL:a}){return`<div class="photo-card">\n  <a class="gallery__link" href='${a}'>\n<img class="img-card" src="${e}" alt="${n}" loading="lazy"/><a>\n<div class="info">\n  <p class="info-item">\n    <b>Likes: ${t}</b>\n  </p>\n  <p class="info-item">\n    <b>Views: ${i}</b>\n  </p>\n  <p class="info-item">\n    <b>Comments: ${o}</b>\n  </p>\n  <p class="info-item">\n    <b>Downloads: ${r}</b>\n  </p>\n</div>\n</div>`}(n)),"");t.page-1==1&&Notiflix.Notify.success(`Hooray! We found ${t.totalHits} images.`),i=s,e.divEl.insertAdjacentHTML("beforeend",i),o(),new SimpleLightbox(".gallery__link",n).refresh()}catch(e){a(e)}var i}().then((()=>i.enable())))}function a(e){return console.log(e),i.hideBtn(),Notiflix.Notify.failure("Sorry, there are no images matching your search query. Please try again.")}e.formEl.addEventListener("submit",(function(n){n.preventDefault();const o=n.currentTarget,a=o.elements.searchQuery.value.trim();if(""===a)return Notiflix.Notify.warning("Please enter a value to search for images!");t.values=a,t.restPage(),i.removeBtn(),e.divEl.innerHTML="",r().finally((()=>{o.reset()}))})),i.button.addEventListener("click",r);
//# sourceMappingURL=index.e979060e.js.map
